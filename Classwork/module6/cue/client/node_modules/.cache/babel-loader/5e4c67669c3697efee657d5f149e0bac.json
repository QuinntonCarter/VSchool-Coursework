{"ast":null,"code":"var _jsxFileName = \"/Users/quinntoncarter/Documents/VSchool/Classwork/module6/cue/client/src/components/context/appContext.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect, useContext } from 'react';\nimport axios from 'axios';\nimport { accessToken } from '../spotify.js';\nimport { UserContext } from './userProvider.js'; // refactor for use with spotify API (not for user information)\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst AppContext = /*#__PURE__*/React.createContext();\n\nfunction AppContextProvider(props) {\n  _s();\n\n  // will be sent to search.js and used in view\n  const [searchQuery, setSearchQuery] = useState([]);\n  const [songDetails, setSongDetails] = useState([]);\n  const {\n    logout\n  } = useCt; // import from spotify.js: search endpoint const, combine with params/inputs from searchBar\n\n  function search(query) {\n    // var songSplit = query.song.split(' ').join('%20');\n    var artistSplit = query.artist.split(' ').join('%20'); // change to both and change search params for song and artist\n\n    axios.get(`https://api.spotify.com/v1/q=name:${artistSplit}&type=artist}`).then(res => {\n      console.log(res.data);\n    }).catch(err => console.log(err));\n  } // // could be used to analyse songs\n  // function getDetails(id){\n  //     axios.get(`https://api.spotify.com/v1/`)\n  //     .then(res => setSongDetails(res.data))\n  //     .catch(err => console.log(err))\n  // }\n\n\n  useEffect(() => {\n    if (!accessToken) {\n      logout();\n    }\n  });\n  return /*#__PURE__*/_jsxDEV(AppContext.Provider, {\n    value: {\n      search,\n      searchQuery,\n      setSearchQuery,\n      // getDetails,\n      songDetails\n    },\n    children: props.children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 42,\n    columnNumber: 9\n  }, this);\n}\n\n_s(AppContextProvider, \"9t4QPgdj/EdF1T8SzDSkXs8DtU8=\");\n\n_c = AppContextProvider;\nexport { AppContextProvider, AppContext };\n\nvar _c;\n\n$RefreshReg$(_c, \"AppContextProvider\");","map":{"version":3,"sources":["/Users/quinntoncarter/Documents/VSchool/Classwork/module6/cue/client/src/components/context/appContext.js"],"names":["React","useState","useEffect","useContext","axios","accessToken","UserContext","AppContext","createContext","AppContextProvider","props","searchQuery","setSearchQuery","songDetails","setSongDetails","logout","useCt","search","query","artistSplit","artist","split","join","get","then","res","console","log","data","catch","err","children"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,EAAqCC,UAArC,QAAuD,OAAvD;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,WAAT,QAA4B,eAA5B;AACA,SAASC,WAAT,QAA4B,mBAA5B,C,CAEA;;;AACA,MAAMC,UAAU,gBAAGP,KAAK,CAACQ,aAAN,EAAnB;;AAEA,SAASC,kBAAT,CAA4BC,KAA5B,EAAkC;AAAA;;AAC9B;AACA,QAAM,CAACC,WAAD,EAAcC,cAAd,IAAgCX,QAAQ,CAAC,EAAD,CAA9C;AACA,QAAM,CAACY,WAAD,EAAcC,cAAd,IAAgCb,QAAQ,CAAC,EAAD,CAA9C;AAEA,QAAM;AAAEc,IAAAA;AAAF,MAAaC,KAAnB,CAL8B,CAO9B;;AACA,WAASC,MAAT,CAAgBC,KAAhB,EAAsB;AAClB;AACA,QAAIC,WAAW,GAAGD,KAAK,CAACE,MAAN,CAAaC,KAAb,CAAmB,GAAnB,EAAwBC,IAAxB,CAA6B,KAA7B,CAAlB,CAFkB,CAGlB;;AACAlB,IAAAA,KAAK,CAACmB,GAAN,CAAW,qCAAoCJ,WAAY,eAA3D,EACCK,IADD,CACMC,GAAG,IAAI;AACTC,MAAAA,OAAO,CAACC,GAAR,CAAYF,GAAG,CAACG,IAAhB;AACH,KAHD,EAICC,KAJD,CAIOC,GAAG,IAAIJ,OAAO,CAACC,GAAR,CAAYG,GAAZ,CAJd;AAKH,GAjB6B,CAmB9B;AACA;AACA;AACA;AACA;AACA;;;AAEA5B,EAAAA,SAAS,CAAC,MAAM;AACZ,QAAG,CAACG,WAAJ,EAAgB;AACZU,MAAAA,MAAM;AACT;AACJ,GAJQ,CAAT;AAMA,sBACI,QAAC,UAAD,CAAY,QAAZ;AACA,IAAA,KAAK,EAAE;AACHE,MAAAA,MADG;AAEHN,MAAAA,WAFG;AAGHC,MAAAA,cAHG;AAIH;AACAC,MAAAA;AALG,KADP;AAAA,cAQKH,KAAK,CAACqB;AARX;AAAA;AAAA;AAAA;AAAA,UADJ;AAYH;;GA5CQtB,kB;;KAAAA,kB;AA8CT,SAASA,kBAAT,EAA6BF,UAA7B","sourcesContent":["import React, { useState, useEffect, useContext } from 'react';\nimport axios from 'axios';\nimport { accessToken } from '../spotify.js';\nimport { UserContext } from './userProvider.js';\n\n// refactor for use with spotify API (not for user information)\nconst AppContext = React.createContext();\n\nfunction AppContextProvider(props){\n    // will be sent to search.js and used in view\n    const [searchQuery, setSearchQuery] = useState([])\n    const [songDetails, setSongDetails] = useState([])\n\n    const { logout } = useCt\n\n    // import from spotify.js: search endpoint const, combine with params/inputs from searchBar\n    function search(query){\n        // var songSplit = query.song.split(' ').join('%20');\n        var artistSplit = query.artist.split(' ').join('%20');\n        // change to both and change search params for song and artist\n        axios.get(`https://api.spotify.com/v1/q=name:${artistSplit}&type=artist}`)\n        .then(res => {\n            console.log(res.data)\n        })\n        .catch(err => console.log(err))\n    }\n\n    // // could be used to analyse songs\n    // function getDetails(id){\n    //     axios.get(`https://api.spotify.com/v1/`)\n    //     .then(res => setSongDetails(res.data))\n    //     .catch(err => console.log(err))\n    // }\n\n    useEffect(() => {\n        if(!accessToken){\n            logout();\n        }\n    },)\n\n    return(\n        <AppContext.Provider\n        value={{\n            search,\n            searchQuery,\n            setSearchQuery,\n            // getDetails,\n            songDetails\n        }}>\n            {props.children}\n        </AppContext.Provider>\n    )\n}\n\nexport { AppContextProvider, AppContext}"]},"metadata":{},"sourceType":"module"}