{"ast":null,"code":"var _jsxFileName = \"/Users/quinntoncarter/Documents/VSchool/Classwork/module6/cue/client/src/components/context/appContext.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect, useContext } from 'react';\nimport axios from 'axios';\nimport { accessToken } from '../spotify.js';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const AppContext = /*#__PURE__*/React.createContext();\nexport default function AppContextProvider(props) {\n  _s();\n\n  const spotifyUserAPI = axios.create();\n  spotifyUserAPI.interceptors.request.use(config => {\n    config.headers.Authorization = `Bearer ${accessToken}`;\n    config.baseURL = 'https://api.spotify.com/v1';\n    return config;\n  });\n  const [monthlyArtists, setWeeklyArtists] = useState({});\n  const [monthlyTracks, setWeeklyTracks] = useState({});\n  const [foundUsers, setFoundUsers] = useState([]);\n  const {\n    userAxios\n  } = useContext();\n\n  function searchUser(inputs) {\n    const params = new URLSearchParams({\n      query: [inputs]\n    }); // ** change form so no spaces are allowed in username **\n\n    axios.get(`/app/users`, params).then(res => console.log(res.data)) // .then(res => setFoundUsers(res.data))\n    .catch(err => console.log(err)).finally(() => console.log(foundUsers));\n  }\n\n  useEffect(() => {\n    function getCurrentUserTop(type, limit, time_range) {\n      spotifyUserAPI.get(`/me/top/${type}`, {\n        params: {\n          limit: limit,\n          time_range: time_range\n        }\n      }).then(res => setWeeklyArtists(res.data)).catch(err => console.log(err));\n    }\n\n    getCurrentUserTop('artists', 5, 'short_term');\n  }, []);\n  useEffect(() => {\n    function getCurrentUserTop(type, limit, time_range) {\n      spotifyUserAPI.get(`/me/top/${type}`, {\n        params: {\n          limit: limit,\n          time_range: time_range\n        }\n      }).then(res => setWeeklyTracks(res.data)).catch(err => console.log(err));\n    }\n\n    getCurrentUserTop('tracks', 5, 'short_term');\n  }, []);\n  return /*#__PURE__*/_jsxDEV(AppContext.Provider, {\n    value: {\n      monthlyArtists,\n      monthlyTracks,\n      spotifyUserAPI,\n      searchUser,\n      foundUsers\n    },\n    children: props.children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 63,\n    columnNumber: 9\n  }, this);\n}\n\n_s(AppContextProvider, \"WGKvjckWdtT8zAQUjul8Z4XTstM=\");\n\n_c = AppContextProvider;\n\nvar _c;\n\n$RefreshReg$(_c, \"AppContextProvider\");","map":{"version":3,"sources":["/Users/quinntoncarter/Documents/VSchool/Classwork/module6/cue/client/src/components/context/appContext.js"],"names":["React","useState","useEffect","useContext","axios","accessToken","AppContext","createContext","AppContextProvider","props","spotifyUserAPI","create","interceptors","request","use","config","headers","Authorization","baseURL","monthlyArtists","setWeeklyArtists","monthlyTracks","setWeeklyTracks","foundUsers","setFoundUsers","userAxios","searchUser","inputs","params","URLSearchParams","query","get","then","res","console","log","data","catch","err","finally","getCurrentUserTop","type","limit","time_range","children"],"mappings":"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","sourcesContent":["import React, { useState, useEffect, useContext } from 'react';\nimport axios from 'axios';\nimport { accessToken } from '../spotify.js';\n\nexport const AppContext = React.createContext();\n\nexport default function AppContextProvider(props){\n    const spotifyUserAPI = axios.create();\n\n    spotifyUserAPI.interceptors.request.use(config => {\n        config.headers.Authorization = `Bearer ${accessToken}`\n        config.baseURL = 'https://api.spotify.com/v1'\n        return config\n    });\n\n    const [ monthlyArtists, setWeeklyArtists ] = useState({})\n    const [ monthlyTracks, setWeeklyTracks ] = useState({})\n    const [ foundUsers, setFoundUsers ] = useState([])\n    const {\n        userAxios\n    } = useContext()\n\n    function searchUser(inputs){\n        const params = new URLSearchParams({ query: [inputs]})\n\n        // ** change form so no spaces are allowed in username **\n        axios.get(`/app/users`, params)\n        .then(res => console.log(res.data))\n        // .then(res => setFoundUsers(res.data))\n        .catch(err => console.log(err))\n        .finally(() => console.log(foundUsers))\n    }\n\n    useEffect(() => {\n        function getCurrentUserTop(type, limit, time_range){\n            spotifyUserAPI.get(`/me/top/${type}`,{\n            params: {\n                limit: limit,\n                time_range: time_range\n            }\n        })\n        .then(res => setWeeklyArtists(res.data))\n        .catch(err => console.log(err))\n        }\n        getCurrentUserTop('artists', 5, 'short_term')\n    },[])\n\n    useEffect(() => {\n        function getCurrentUserTop(type, limit, time_range){\n            spotifyUserAPI.get(`/me/top/${type}`,{\n            params: {\n                limit: limit,\n                time_range: time_range\n            }\n        })\n        .then(res => setWeeklyTracks(res.data))\n        .catch(err => console.log(err))\n        }\n        getCurrentUserTop('tracks', 5, 'short_term')\n    },[])\n\n    return(\n        <AppContext.Provider\n        value={{\n            monthlyArtists,\n            monthlyTracks,\n            spotifyUserAPI,\n            searchUser,\n            foundUsers\n        }}>\n            {props.children}\n        </AppContext.Provider>\n    )\n}"]},"metadata":{},"sourceType":"module"}